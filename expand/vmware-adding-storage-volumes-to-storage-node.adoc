---
permalink: expand/vmware-adding-storage-volumes-to-storage-node.html 
sidebar: sidebar 
keywords: expand, expansion, storage node, add storage volumes, VMware 
summary: ストレージ ノードに含まれるストレージ ボリュームが 16 個未満の場合は、VMware vSphere を使用してボリュームを追加することで容量を増やすことができます。 
---
= VMware: ストレージノードにストレージボリュームを追加する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ストレージ ノードに含まれるストレージ ボリュームが 16 個未満の場合は、VMware vSphere を使用してボリュームを追加することで容量を増やすことができます。

.開始する前に
* VMware デプロイメント用のStorageGRIDをインストールするための手順にアクセスできます。
+
** link:../vmware/index.html["VMwareにStorageGRIDをインストールする"]


* あなたは `Passwords.txt`ファイル。
* あなたが持っているlink:../admin/admin-group-permissions.html["特定のアクセス権限"]。



CAUTION: ソフトウェアのアップグレード、リカバリ手順、またはその他の拡張手順がアクティブな間は、ストレージ ノードにストレージ ボリュームを追加しないでください。

.タスク概要
ストレージ ボリュームを追加すると、ストレージ ノードは一時的に使用できなくなります。クライアント側のグリッド サービスに影響を与えないように、この手順は一度に 1 つのストレージ ノードで実行する必要があります。

.手順
. 必要に応じて、新しいストレージ ハードウェアをインストールし、新しい VMware データストアを作成します。
. ストレージ (オブジェクト ストア) として使用するために、仮想マシンに 1 つ以上のハード ディスクを追加します。
+
.. VMware vSphere Client を開きます。
.. 仮想マシンの設定を編集して、1 つ以上のハード ディスクを追加します。


+
ハードディスクは通常、仮想マシン ディスク (VMDK) として構成されます。 VMDK はより一般的に使用されており、管理も簡単ですが、RDM はより大きなオブジェクト サイズ (たとえば、100 MB を超える) を使用するワークロードに対してより優れたパフォーマンスを提供できる可能性があります。仮想マシンへのハード ディスクの追加に関する詳細については、VMware vSphereのドキュメントを参照してください。

. VMware vSphere Client の *ゲスト OS の再起動* オプションを使用するか、仮想マシンへの ssh セッションで次のコマンドを入力して、仮想マシンを再起動します。``sudo reboot``
+

NOTE: 仮想マシンを再起動する際に、「電源オフ」または「リセット」を使用しないでください。

. ストレージ ノードで使用するために新しいストレージを構成します。
+
.. グリッド ノードにログインします。
+
... 次のコマンドを入力します。 `ssh admin@_grid_node_IP_`
... 記載されているパスワードを入力してください `Passwords.txt`ファイル。
... ルートに切り替えるには、次のコマンドを入力します。 `su -`
... 記載されているパスワードを入力してください `Passwords.txt`ファイル。ルートとしてログインすると、プロンプトは `$`に `#`。


.. 新しいストレージ ボリュームを構成します。
+
`sudo add_rangedbs.rb`

+
このスクリプトは、新しいストレージ ボリュームを検出し、それらをフォーマットするように要求します。

.. フォーマットを受け入れるには *y* と入力します。
.. ボリュームのいずれかが以前にフォーマットされている場合は、再フォーマットするかどうかを決定します。
+
*** 再フォーマットするには *y* と入力します。
*** 再フォーマットをスキップするには *n* と入力します。




+
その `setup_rangedbs.sh`スクリプトは自動的に実行されます。

. サービスが正しく開始されていることを確認します。
+
.. サーバー上のすべてのサービスのステータスのリストを表示します。
+
`sudo storagegrid-status`

+
ステータスは自動的に更新されます。

.. すべてのサービスが実行中または検証済みになるまで待機します。
.. ステータス画面を終了します。
+
`Ctrl+C`



. ストレージ ノードがオンラインであることを確認します。
+
.. グリッドマネージャーにSign inには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。
.. *サポート* > *ツール* > *グリッド トポロジ* を選択します。
.. *_site_* > *_Storage Node_* > *LDR* > *Storage* を選択します。
.. *構成*タブを選択し、次に*メイン*タブを選択します。
.. *ストレージ状態 - 必要*ドロップダウン リストが読み取り専用またはオフラインに設定されている場合は、*オンライン*を選択します。
.. *変更を適用*を選択します。


. 新しいオブジェクト ストアを表示するには:
+
.. *NODES* > *_site_* > *_Storage Node_* > *Storage* を選択します。
.. *オブジェクト ストア* テーブルで詳細を表示します。




.結果
ストレージ ノードの拡張容量を使用して、オブジェクト データを保存できます。
