---
permalink: admin/grid-federation-troubleshoot.html 
sidebar: sidebar 
keywords: troubleshoot, grid federation connection, account clone, cross-grid replication, alerts, errors 
summary: グリッド フェデレーション接続、アカウント クローン、およびクロス グリッド レプリケーションに関連するアラートとエラーのトラブルシューティングが必要になる場合があります。 
---
= グリッドフェデレーションエラーのトラブルシューティング
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
グリッド フェデレーション接続、アカウント クローン、およびクロス グリッド レプリケーションに関連するアラートとエラーのトラブルシューティングが必要になる場合があります。



== [[grid-federation-errors]]グリッドフェデレーション接続のアラートとエラー

グリッド フェデレーション接続でアラートが表示されたり、エラーが発生したりする可能性があります。

接続の問題を解決するために変更を加えた後、接続をテストして、接続ステータスが「接続済み」に戻ることを確認します。手順については、link:grid-federation-manage-connection.html["グリッドフェデレーション接続を管理する"] 。



=== グリッドフェデレーション接続失敗アラート

.問題
*グリッド フェデレーション接続失敗* アラートがトリガーされました。

.詳細
このアラートは、グリッド間のグリッド フェデレーション接続が機能していないことを示します。

.推奨する対処方法
. 両方のグリッドの「グリッド フェデレーション」ページの設定を確認します。すべての値が正しいことを確認します。見るlink:grid-federation-manage-connection.html["グリッドフェデレーション接続を管理する"] 。
. 接続に使用された証明書を確認します。期限切れのグリッド フェデレーション証明書に関するアラートがないこと、および各証明書の詳細が有効であることを確認します。接続証明書のローテーション手順については、link:grid-federation-manage-connection.html["グリッドフェデレーション接続を管理する"] 。
. 両方のグリッド内のすべての管理ノードとゲートウェイ ノードがオンラインで使用可能であることを確認します。これらのノードに影響を与えている可能性のあるアラートを解決して、再試行してください。
. ローカル グリッドまたはリモート グリッドに完全修飾ドメイン名 (FQDN) を指定した場合は、DNS サーバーがオンラインで使用可能であることを確認します。見るlink:grid-federation-overview.html["グリッドフェデレーションとは何ですか?"]ネットワーク、IP アドレス、および DNS の要件。




=== グリッドフェデレーション証明書の有効期限切れアラート

.問題
*グリッド フェデレーション証明書の有効期限* アラートがトリガーされました。

.詳細
このアラートは、1 つ以上のグリッド フェデレーション証明書の有効期限が近づいていることを示します。

.推奨する対処方法
接続証明書のローテーション手順については、link:grid-federation-manage-connection.html["グリッドフェデレーション接続を管理する"] 。



=== グリッド フェデレーション接続の編集中にエラーが発生しました

.問題
グリッド フェデレーション接続を編集するときに、[*保存してテスト*] を選択すると、次の警告メッセージが表示されます:「1 つ以上のノードに候補構成ファイルを作成できませんでした。」

.詳細
グリッド フェデレーション接続を編集すると、 StorageGRID は最初のグリッド上のすべての管理ノードに「候補構成」ファイルを保存しようとします。たとえば、管理ノードがオフラインであるなどの理由で、このファイルをすべての管理ノードに保存できない場合は、警告メッセージが表示されます。

.推奨する対処方法
. 接続を編集するために使用しているグリッドから、*NODES* を選択します。
. そのグリッドのすべての管理ノードがオンラインであることを確認します。
. オフラインになっているノードがある場合は、オンラインに戻して接続を再度編集してみてください。




== アカウント複製エラー



=== 複製されたテナント アカウントにサインインできない

.問題
複製されたテナント アカウントにサインインすることはできません。テナント マネージャーのサインイン ページのエラー メッセージは、「このアカウントの資格情報が無効です。もう一度お試しください。

.詳細
セキュリティ上の理由から、テナント アカウントがテナントのソース グリッドからテナントの宛先グリッドに複製されるときに、テナントのローカル ルート ユーザーに設定したパスワードは複製されません。同様に、テナントがソース グリッドにローカル ユーザーを作成すると、ローカル ユーザーのパスワードは宛先グリッドに複製されません。

.推奨する対処方法
ルートユーザーがテナントの宛先グリッドにサインインする前に、グリッド管理者はまずlink:changing-password-for-tenant-local-root-user.html["ローカルルートユーザーのパスワードを変更する"]宛先グリッド上。

クローン作成されたローカル ユーザーがテナントの宛先グリッドにサインインする前に、クローン作成されたテナントのルート ユーザーが宛先グリッド上のユーザーのパスワードを追加する必要があります。手順については、link:../tenant/managing-local-users.html["ローカルユーザーの管理"]テナント マネージャーの使用手順について説明します。



=== クローンなしで作成されたテナント

.問題
*グリッド フェデレーション接続の使用* 権限を使用して新しいテナントを作成した後、「クローンなしでテナントが作成されました」というメッセージが表示されます。

.詳細
この問題は、接続ステータスの更新が遅れると発生する可能性があり、その結果、正常でない接続が *接続済み* としてリストされる可能性があります。

.推奨する対処方法
. エラー メッセージに記載されている理由を確認し、接続を妨げている可能性のあるネットワークの問題やその他の問題を解決します。見る<<grid-federation-errors,グリッドフェデレーション接続のアラートとエラー>> 。
. グリッドフェデレーション接続をテストするには、以下の手順に従ってください。link:grid-federation-manage-connection.html["グリッドフェデレーション接続を管理する"]問題が修正されたことを確認します。
. テナントのソース グリッドから、*TENANTS* を選択します。
. 複製に失敗したテナント アカウントを見つけます。
. テナント名を選択すると詳細ページが表示されます。
. *アカウントの複製を再試行*を選択します。
+
image::../media/grid-federation-retry-account-clone.png[エラーメッセージと「アカウントのクローンを再試行」ボタンが表示されたスクリーンショット]

+
エラーが解決された場合、テナント アカウントは他のグリッドに複製されます。





== クロスグリッドレプリケーションのアラートとエラー



=== 接続またはテナントに表示された最後のエラー

.問題
いつlink:../monitor/grid-federation-monitor-connections.html["グリッドフェデレーション接続の表示"]（またはlink:grid-federation-manage-tenants.html["許可されたテナントの管理"]（接続の場合）、接続の詳細ページの「*最後のエラー*」列にエラーが表示されます。例えば：

image::../media/grid-federation-last-error.png[グリッドフェデレーション接続の「最後のエラー」列にメッセージを表示するスクリーンショット]

.詳細
各グリッド フェデレーション接続の *最後のエラー* 列には、テナントのデータが他のグリッドに複製されているときに発生した最新のエラー (ある場合) が表示されます。この列には、最後に発生したグリッド間レプリケーション エラーのみが表示されます。以前に発生した可能性のあるエラーは表示されません。この列のエラーは、次のいずれかの理由で発生する可能性があります。

* ソース オブジェクト バージョンが見つかりませんでした。
* ソースバケットが見つかりませんでした。
* 宛先バケットが削除されました。
* 宛先バケットが別のアカウントによって再作成されました。
* 宛先バケットのバージョン管理が停止されています。
* 宛先バケットは同じアカウントによって再作成されましたが、現在はバージョン管理されていません。


.推奨する対処方法
*最後のエラー*列にエラー メッセージが表示される場合は、次の手順に従ってください。

. メッセージテキストを確認します。
. 推奨されるアクションを実行します。たとえば、クロスグリッド レプリケーションの宛先バケットでバージョン管理が中断されていた場合は、そのバケットのバージョン管理を再度有効にします。
. テーブルから接続またはテナント アカウントを選択します。
. *エラーをクリア*を選択します。
. メッセージをクリアしてシステムのステータスを更新するには、[*はい*] を選択します。
. 5 ～ 6 分待ってから、新しいオブジェクトをバケットに取り込みます。エラーメッセージが再度表示されないことを確認します。
+

NOTE: エラー メッセージを確実にクリアするには、新しいオブジェクトを取り込む前に、メッセージ内のタイムスタンプから少なくとも 5 分間待機します。

+

TIP: エラーをクリアした後、同じくエラーが発生している別のバケットにオブジェクトが取り込まれると、新しい *最後のエラー* が表示されることがあります。

. バケットエラーにより複製に失敗したオブジェクトがあるかどうかを確認するには、link:../admin/grid-federation-retry-failed-replication.html["失敗したレプリケーション操作を識別して再試行する"] 。




=== クロスグリッドレプリケーションの永続的な障害アラート

.問題
*クロスグリッド レプリケーションの永続的な障害* アラートがトリガーされました。

.詳細
このアラートは、解決にユーザーの介入が必要な理由により、2 つのグリッド上のバケット間でテナント オブジェクトを複製できないことを示します。このアラートは通常、ソース バケットまたは宛先バケットのいずれかの変更によって発生します。

.推奨する対処方法
. アラートがトリガーされたグリッドにSign in。
. *CONFIGURATION* > *System* > *Grid federation* に移動し、アラートにリストされている接続名を見つけます。
. [許可されたテナント] タブで、[*最後のエラー*] 列を確認し、エラーのあるテナント アカウントを特定します。
. 障害の詳細については、link:../monitor/grid-federation-monitor-connections.html["グリッドフェデレーション接続を監視する"]クロスグリッドレプリケーションメトリックを確認します。
. 影響を受けるテナント アカウントごとに:
+
.. の指示を参照してくださいlink:../monitor/monitoring-tenant-activity.html["テナントのアクティビティを監視する"]テナントがクロスグリッドレプリケーションの宛先グリッドのクォータを超過していないことを確認します。
.. 必要に応じて、新しいオブジェクトを保存できるように、宛先グリッド上のテナントのクォータを増やします。


. 影響を受けるテナントごとに、両方のグリッドで Tenant Manager にサインインして、バケットのリストを比較します。
. クロスグリッド レプリケーションが有効になっているバケットごとに、次の点を確認します。
+
** 他のグリッドに同じテナントに対応するバケットがあります (正確な名前を使用する必要があります)。
** 両方のバケットでオブジェクトのバージョン管理が有効になっています (どちらのグリッドでもバージョン管理を一時停止することはできません)。
** 両方のバケットで S3 オブジェクト ロックが無効になっています。
** どちらのバケットも「オブジェクトの削除: 読み取り専用」状態ではありません。


. 問題が解決したことを確認するには、link:../monitor/grid-federation-monitor-connections.html["グリッドフェデレーション接続を監視する"]クロスグリッドレプリケーションメトリックを確認するには、次の手順を実行します。
+
.. グリッド フェデレーション ページに戻ります。
.. 影響を受けるテナントを選択し、「最後のエラー」列で「エラーをクリア」を選択します。
.. メッセージをクリアしてシステムのステータスを更新するには、[*はい*] を選択します。
.. 5 ～ 6 分待ってから、新しいオブジェクトをバケットに取り込みます。エラーメッセージが再度表示されないことを確認します。
+

NOTE: エラー メッセージを確実にクリアするには、新しいオブジェクトを取り込む前に、メッセージ内のタイムスタンプから少なくとも 5 分間待機します。

+

NOTE: アラートが解決されてから消えるまでに最大 1 日かかる場合があります。

.. へ移動link:grid-federation-retry-failed-replication.html["失敗したレプリケーション操作を識別して再試行する"]他のグリッドに複製できなかったオブジェクトを識別したりマーカーを削除したりして、必要に応じて複製を再試行します。






=== クロスグリッドレプリケーションリソース利用不可アラート

.問題
*クロスグリッド レプリケーション リソースが利用できません* というアラートがトリガーされました。

.詳細
このアラートは、リソースが利用できないため、グリッド間レプリケーション要求が保留中であることを示します。たとえば、ネットワーク エラーが発生している可能性があります。

.推奨する対処方法
. アラートを監視して、問題が自動的に解決されるかどうかを確認します。
. 問題が解決しない場合は、どちらかのグリッドに同じ接続に対する *グリッド フェデレーション接続エラー* アラートがあるかどうか、またはノードに対する *ノードと通信できません* アラートがあるかどうかを確認します。これらのアラートを解決すると、このアラートも解決される可能性があります。
. 障害の詳細については、link:../monitor/grid-federation-monitor-connections.html["グリッドフェデレーション接続を監視する"]クロスグリッドレプリケーションメトリックを確認します。
. アラートを解決できない場合は、テクニカル サポートにお問い合わせください。


問題が解決されると、クロスグリッド レプリケーションは通常どおり続行されます。
