---
permalink: admin/grid-federation-overview.html 
sidebar: sidebar 
keywords: grid federation, cross-grid replication, account clone, cgr, disaster recovery 
summary: グリッド フェデレーションを使用すると、テナントのクローンを作成し、そのオブジェクトを 2 つのStorageGRIDシステム間で複製して災害復旧を行うことができます。 
---
= グリッドフェデレーションとは何ですか?
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
グリッド フェデレーションを使用すると、テナントのクローンを作成し、そのオブジェクトを 2 つのStorageGRIDシステム間で複製して災害復旧を行うことができます。



== グリッド フェデレーション接続とは何ですか?

グリッド フェデレーション接続は、2 つのStorageGRIDシステム内の管理ノードとゲートウェイ ノード間の双方向の信頼できる安全な接続です。



== グリッドフェデレーションのワークフロー

ワークフロー図は、2 つのグリッド間のグリッド フェデレーション接続を構成する手順をまとめたものです。

image::../media/grid-federation-workflow.png[グリッドフェデレーション接続ワークフロー]



== グリッドフェデレーション接続に関する考慮事項と要件

* グリッド フェデレーションに使用するグリッドでは、同一のStorageGRIDバージョンが実行されているか、メジャー バージョンの違いが 1 つ以下である必要があります。
+
バージョン要件の詳細については、link:../release-notes/index.html["リリース ノート"] 。

* グリッドには、他のグリッドへの 1 つ以上のグリッド フェデレーション接続を設定できます。各グリッド フェデレーション接続は、他の接続からは独立しています。たとえば、グリッド 1 にグリッド 2 との接続が 1 つあり、グリッド 3 との接続が 2 つある場合、グリッド 2 とグリッド 3 の間には暗黙的な接続はありません。
* グリッド フェデレーション接続は双方向です。接続が確立されると、どちらのグリッドからも接続を監視および管理できます。
* 使用する前に、少なくとも1つのグリッドフェデレーション接続が存在している必要があります。link:grid-federation-what-is-account-clone.html["アカウントクローン"]またはlink:grid-federation-what-is-cross-grid-replication.html["クロスグリッドレプリケーション"]。




=== ネットワークとIPアドレスの要件

* グリッド フェデレーション接続は、グリッド ネットワーク、管理ネットワーク、またはクライアント ネットワークで発生します。
* グリッド フェデレーション接続は、1 つのグリッドを別のグリッドに接続します。各グリッドの構成では、管理ノード、ゲートウェイ ノード、またはその両方で構成される他のグリッド上のグリッド フェデレーション エンドポイントを指定します。
* ベストプラクティスは接続することですlink:managing-high-availability-groups.html["高可用性（HA）グループ"]各グリッド上のゲートウェイノードと管理ノード。 HA グループを使用すると、ノードが使用できなくなった場合でも、グリッド フェデレーション接続がオンラインのままになることが保証されます。いずれかの HA グループのアクティブ インターフェイスに障害が発生した場合、接続ではバックアップ インターフェイスを使用できます。
* 単一の管理ノードまたはゲートウェイ ノードの IP アドレスを使用するグリッド フェデレーション接続を作成することはお勧めしません。ノードが使用できなくなった場合、グリッド フェデレーション接続も使用できなくなります。
* link:grid-federation-what-is-cross-grid-replication.html["クロスグリッドレプリケーション"]オブジェクトを管理するには、各グリッド上のストレージ ノードが、他のグリッド上の構成された管理ノードとゲートウェイ ノードにアクセスできる必要があります。各グリッドについて、すべてのストレージ ノードが接続に使用される管理ノードまたはゲートウェイ ノードへの高帯域幅ルートを持っていることを確認します。




=== FQDNを使用して接続の負荷を分散する

運用環境では、完全修飾ドメイン名 (FQDN) を使用して接続内の各グリッドを識別します。次に、次のように適切な DNS エントリを作成します。

* グリッド 1 の FQDN は、グリッド 1 内の HA グループの 1 つ以上の仮想 IP (VIP) アドレス、またはグリッド 1 内の 1 つ以上の管理ノードまたはゲートウェイ ノードの IP アドレスにマップされます。
* グリッド 2 の FQDN は、グリッド 2 の 1 つ以上の VIP アドレス、またはグリッド 2 内の 1 つ以上の管理ノードまたはゲートウェイ ノードの IP アドレスにマップされます。


複数の DNS エントリを使用する場合、接続を使用する要求は次のように負荷分散されます。

* 複数の HA グループの VIP アドレスにマップされる DNS エントリは、HA グループ内のアクティブ ノード間で負荷分散されます。
* 複数の管理ノードまたはゲートウェイ ノードの IP アドレスにマップされる DNS エントリは、マップされたノード間で負荷分散されます。




=== ポート要件

グリッド フェデレーション接続を作成するときに、23000 から 23999 までの未使用のポート番号を指定できます。この接続の両方のグリッドは同じポートを使用します。

どちらのグリッド内のノードも、このポートを他の接続に使用していないことを確認する必要があります。



=== 証明書の要件

グリッド フェデレーション接続を構成すると、 StorageGRIDによって次の 4 つの SSL 証明書が自動的に生成されます。

* グリッド 1 からグリッド 2 に送信される情報を認証および暗号化するためのサーバー証明書とクライアント証明書
* グリッド 2 からグリッド 1 に送信される情報を認証および暗号化するためのサーバー証明書とクライアント証明書


image::../media/grid-federation-certificates.png[グリッドフェデレーション証明書]

デフォルトでは、証明書の有効期間は 730 日間 (2 年間) です。これらの証明書の有効期限が近づくと、「グリッド フェデレーション証明書の有効期限」アラートが表示され、証明書のローテーションを促すメッセージが表示されます。これは、グリッド マネージャーを使用して実行できます。


CAUTION: 接続のいずれかの端の証明書の有効期限が切れると、接続は機能しなくなります。証明書が更新されるまで、データの複製は保留になります。

.詳細情報
* link:grid-federation-create-connection.html["グリッドフェデレーション接続を作成する"]
* link:grid-federation-manage-connection.html["グリッドフェデレーション接続を管理する"]
* link:grid-federation-troubleshoot.html["グリッドフェデレーションエラーのトラブルシューティング"]

