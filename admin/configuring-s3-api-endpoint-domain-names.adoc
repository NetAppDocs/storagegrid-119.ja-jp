---
permalink: admin/configuring-s3-api-endpoint-domain-names.html 
sidebar: sidebar 
keywords: s3 endpoint domain names, virtual-hosted-style requests 
summary: S3 仮想ホスト スタイルのリクエストをサポートするには、グリッド マネージャーを使用して、S3 クライアントが接続する S3 エンドポイント ドメイン名のリストを設定する必要があります。 
---
= S3エンドポイントのドメイン名を設定する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
S3 仮想ホスト スタイルのリクエストをサポートするには、グリッド マネージャーを使用して、S3 クライアントが接続する S3 エンドポイント ドメイン名のリストを設定する必要があります。


CAUTION: エンドポイント ドメイン名に IP アドレスを使用することはサポートされていません。将来のリリースではこの構成は禁止されます。

.開始する前に
* グリッドマネージャにサインインするには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。
* あなたが持っているlink:../admin/admin-group-permissions.html["特定のアクセス権限"]。
* グリッドのアップグレードが進行中ではないことを確認しました。
+

CAUTION: グリッドのアップグレードが進行中の場合は、ドメイン名の構成を変更しないでください。



.タスク概要
クライアントが S3 エンドポイント ドメイン名を使用できるようにするには、次のすべてを実行する必要があります。

* Grid Manager を使用して、S3 エンドポイント ドメイン名をStorageGRIDシステムに追加します。
* 確実にlink:../admin/configuring-administrator-client-certificates.html["クライアントがStorageGRIDへのHTTPS接続に使用する証明書"]クライアントが必要とするすべてのドメイン名に対して署名されます。
+
たとえば、エンドポイントが `s3.company.com`、HTTPS接続に使用する証明書に次の内容が含まれていることを確認する必要があります。 `s3.company.com`エンドポイントとエンドポイントのワイルドカード サブジェクト別名 (SAN): `*.s3.company.com` 。

* クライアントが使用する DNS サーバーを構成します。クライアントが接続に使用する IP アドレスの DNS レコードを含め、レコードがワイルドカード名を含むすべての必要な S3 エンドポイント ドメイン名を参照していることを確認します。
+

NOTE: クライアントは、ゲートウェイ ノード、管理ノード、またはストレージ ノードの IP アドレスを使用するか、高可用性グループの仮想 IP アドレスに接続することで、 StorageGRIDに接続できます。クライアント アプリケーションがグリッドに接続する方法を理解して、DNS レコードに正しい IP アドレスを含める必要があります。



グリッドへの HTTPS 接続 (推奨) を使用するクライアントは、次のいずれかの証明書を使用できます。

* ロード バランサー エンドポイントに接続するクライアントは、そのエンドポイントのカスタム証明書を使用できます。各ロードバランサーエンドポイントは、異なる S3 エンドポイントドメイン名を認識するように設定できます。
* ロードバランサーエンドポイントに接続するクライアント、またはストレージノードに直接接続するクライアントは、必要なすべての S3 エンドポイントドメイン名を含めるようにグローバル S3 API 証明書をカスタマイズできます。



NOTE: S3 エンドポイント ドメイン名を追加せず、リストが空の場合、S3 仮想ホスト スタイルのリクエストのサポートは無効になります。



== S3エンドポイントドメイン名を追加する

.手順
. *構成* > *ネットワーク* > *S3 エンドポイント ドメイン名* を選択します。
. *ドメイン名 1* フィールドにドメイン名を入力します。さらにドメイン名を追加するには、「*別のドメイン名を追加*」を選択します。
. *保存*を選択します。
. クライアントが使用するサーバー証明書が、必要な S3 エンドポイント ドメイン名と一致していることを確認します。
+
** クライアントが独自の証明書を使用するロードバランサエンドポイントに接続する場合、link:../admin/configuring-load-balancer-endpoints.html["エンドポイントに関連付けられた証明書を更新する"] 。
** クライアントがグローバルS3 API証明書を使用するロードバランサーエンドポイントに接続するか、直接ストレージノードに接続する場合、link:../admin/use-s3-setup-wizard-steps.html["グローバルS3 API証明書を更新する"] 。


. エンドポイント ドメイン名要求を解決できるようにするために必要な DNS レコードを追加します。


.結果
さて、クライアントがエンドポイントを使用すると `_bucket.s3.company.com_`DNS サーバーは正しいエンドポイントに解決し、証明書は期待どおりにエンドポイントを認証します。



== S3エンドポイントのドメイン名を変更する

S3 アプリケーションで使用される名前を変更すると、仮想ホスト形式のリクエストは失敗します。

.手順
. *構成* > *ネットワーク* > *S3 エンドポイント ドメイン名* を選択します。
. 編集するドメイン名フィールドを選択し、必要な変更を加えます。
. *保存*を選択します。
. 変更を確認するには、[*はい*] を選択します。




== S3エンドポイントドメイン名を削除する

S3 アプリケーションで使用される名前を削除すると、仮想ホスト形式のリクエストは失敗します。

.手順
. *構成* > *ネットワーク* > *S3 エンドポイント ドメイン名* を選択します。
. 削除アイコンを選択しますimage:../media/icon-x-to-remove.png["削除アイコン"]ドメイン名の横にあります。
. 削除を確認するには、[*はい*] を選択します。


.関連情報
* link:../s3/index.html["S3 REST APIを使用する"]
* link:viewing-ip-addresses.html["IPアドレスを表示"]
* link:configure-high-availability-group.html["高可用性グループを構成する"]

