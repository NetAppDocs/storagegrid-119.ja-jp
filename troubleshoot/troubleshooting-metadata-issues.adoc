---
permalink: troubleshoot/troubleshooting-metadata-issues.html 
sidebar: sidebar 
keywords: how to troubleshoot metadata issues 
summary: メタデータの問題が発生した場合、アラートによって問題の原因と推奨されるアクションが通知されます。特に、メタデータ ストレージ不足アラートがトリガーされた場合は、新しいストレージ ノードを追加する必要があります。 
---
= メタデータの問題のトラブルシューティング
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
メタデータの問題が発生した場合、アラートによって問題の原因と推奨されるアクションが通知されます。特に、メタデータ ストレージ不足アラートがトリガーされた場合は、新しいストレージ ノードを追加する必要があります。

.開始する前に
グリッドマネージャにサインインするには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。

.タスク概要
トリガーされたメタデータ関連のアラートごとに推奨されるアクションに従います。  *メタデータ ストレージ不足* アラートがトリガーされた場合は、新しいストレージ ノードを追加する必要があります。

StorageGRID は、オブジェクト メタデータ用に各ストレージ ノードのボリューム 0 に一定量のスペースを予約します。このスペースは、_実際の予約済みスペース_ と呼ばれ、オブジェクト メタデータに許可されたスペース (許可されたメタデータ スペース) と、圧縮や修復などの基本的なデータベース操作に必要なスペースに分割されます。許可されたメタデータ領域によって、オブジェクト全体の容量が決まります。

image::../media/metadata_allowed_space_volume_0.png[メタデータ許容スペースボリューム0]

オブジェクト メタデータがメタデータに許可されているスペースの 100% 以上を消費すると、データベース操作が効率的に実行されず、エラーが発生します。

あなたはできるlink:../monitor/monitoring-storage-capacity.html#monitor-object-metadata-capacity-for-each-storage-node["各ストレージノードのオブジェクトメタデータ容量を監視する"]エラーを予測し、発生する前に修正するのに役立ちます。

StorageGRID は、次の Prometheus メトリックを使用して、許可されたメタデータ領域の使用量を測定します。

[listing]
----
storagegrid_storage_utilization_metadata_bytes/storagegrid_storage_utilization_metadata_allowed_bytes
----
この Prometheus 式が特定のしきい値に達すると、「メタデータ ストレージ不足」アラートがトリガーされます。

* *マイナー*: オブジェクト メタデータは、許可されたメタデータ領域の 70% 以上を使用しています。できるだけ早く新しいストレージノードを追加する必要があります。
* *メジャー*: オブジェクト メタデータは、許可されたメタデータ領域の 90% 以上を使用しています。新しいストレージ ノードをすぐに追加する必要があります。
+

CAUTION: オブジェクト メタデータが許可されたメタデータ領域の 90% 以上を使用している場合、ダッシュボードに警告が表示されます。この警告が表示された場合は、すぐに新しいストレージ ノードを追加する必要があります。オブジェクト メタデータが許可されたスペースの 100% を超える使用を許可しないでください。

* *重大*: オブジェクト メタデータは、許可されたメタデータ領域の 100% 以上を使用しており、重要なデータベース操作に必要な領域を消費し始めています。新しいオブジェクトの取り込みを停止し、新しいストレージ ノードをすぐに追加する必要があります。



CAUTION: ボリューム 0 のサイズがメタデータ予約済みスペース ストレージ オプションよりも小さい場合 (たとえば、非実稼働環境の場合)、「*メタデータ ストレージ不足*」アラートの計算が不正確になる可能性があります。

.手順
. *ALERTS* > *Current* を選択します。
. アラート テーブルから、必要に応じて *Low metadata storage* アラート グループを展開し、表示する特定のアラートを選択します。
. アラート ダイアログ ボックスで詳細を確認します。
. 重大な「メタデータ ストレージ不足」アラートがトリガーされた場合は、すぐに拡張を実行してストレージ ノードを追加してください。
+

NOTE: StorageGRID は各サイトですべてのオブジェクト メタデータの完全なコピーを保持するため、グリッド全体のメタデータ容量は最小のサイトのメタデータ容量によって制限されます。  1つのサイトにメタデータ容量を追加する必要がある場合は、link:../expand/adding-grid-nodes-to-existing-site-or-adding-new-site.html["他のサイトを展開する"]同じ数のストレージ ノードによって。

+
拡張を実行すると、 StorageGRID は既存のオブジェクト メタデータを新しいノードに再配布し、グリッドの全体的なメタデータ容量が増加します。ユーザーの操作は必要ありません。  *メタデータストレージ不足*アラートがクリアされました。


