---
permalink: troubleshoot/investigating-lost-objects.html 
sidebar: sidebar 
keywords: lost objects, investigating, objects 
summary: *オブジェクト紛失*アラートがトリガーされた場合は、すぐに調査する必要があります。影響を受けるオブジェクトに関する情報を収集し、テクニカル サポートに連絡してください。 
---
= 紛失物の調査
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
*オブジェクト紛失*アラートがトリガーされた場合は、すぐに調査する必要があります。影響を受けるオブジェクトに関する情報を収集し、テクニカル サポートに連絡してください。

.開始する前に
* グリッドマネージャにサインインするには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。
* あなたが持っているlink:../admin/admin-group-permissions.html["特定のアクセス権限"]。
* あなたは `Passwords.txt`ファイル。


.タスク概要
*オブジェクトが失われました* アラートは、 StorageGRID がグリッド内にオブジェクトのコピーが存在しないと判断していることを示します。データは永久に失われた可能性があります。

紛失物アラートを直ちに調査してください。さらなるデータ損失を防ぐために、対策を講じる必要がある場合があります。場合によっては、迅速な対応を行えば、失われたオブジェクトを復元できる可能性があります。

.手順
. 「NODES」を選択します。
. *_ストレージノード_* > *オブジェクト*を選択します。
. オブジェクト数テーブルに表示されている紛失オブジェクトの数を確認します。
+
この数値は、このグリッド ノードがStorageGRIDシステム全体から欠落していると検出したオブジェクトの合計数を示します。この値は、LDR および DDS サービス内のデータ ストア コンポーネントの失われたオブジェクト カウンターの合計です。

+
image::../media/nodes_storage_nodes_objects_page_lost_object.png[ノード ストレージノード オブジェクトページ 失われたオブジェクト]

. 管理ノードから、link:../audit/accessing-audit-log-file.html["監査ログにアクセスする"] *オブジェクト紛失*アラートをトリガーしたオブジェクトの一意の識別子 (UUID) を判別するには:
+
.. グリッド ノードにログインします。
+
... 次のコマンドを入力します。 `ssh admin@grid_node_IP`
... 記載されているパスワードを入力してください `Passwords.txt`ファイル。
... ルートに切り替えるには、次のコマンドを入力します。 `su -`
... 記載されているパスワードを入力してください `Passwords.txt`ファイル。ルートとしてログインすると、プロンプトは `$`に `#`。


.. 監査ログが保存されているディレクトリに変更します。
+
--
監査ログ ディレクトリと適用可能なノードは、監査の宛先設定によって異なります。

[cols="1a,2a"]
|===
| オプション | デスティネーション 


 a| 
ローカルノード（デフォルト）
 a| 
`/var/local/log/localaudit.log`



 a| 
管理ノード/ローカルノード
 a| 
*** 管理ノード (プライマリおよび非プライマリ): `/var/local/audit/export/audit.log`
*** すべてのノード: `/var/local/log/localaudit.log`このモードでは通常、ファイルは空であるか、存在しません。




 a| 
外部 syslog サーバー
 a| 
`/var/local/log/localaudit.log`

|===
監査先の設定に応じて、次のように入力します。 `cd /var/local/log`または `/var/local/audit/export/`

詳細については、link:../monitor/configure-audit-messages.html#select-audit-information-destinations["監査情報の送信先を選択する"] 。

--
.. grep を使用して、オブジェクト損失 (OLST) 監査メッセージを抽出します。入力： `grep OLST audit_file_name`
.. メッセージに含まれる UUID 値をメモします。
+
[listing]
----
Admin: # grep OLST audit.log
2020-02-12T19:18:54.780426 [AUDT:[CBID(UI64):0x38186FE53E3C49A5][UUID(CSTR):"926026C4-00A4-449B-AC72-BCCA72DD1311"]
[PATH(CSTR):"source/cats"][NOID(UI32):12288733][VOLI(UI64):3222345986][RSLT(FC32):NONE][AVER(UI32):10]
[ATIM(UI64):1581535134780426][ATYP(FC32):OLST][ANID(UI32):12448208][AMID(FC32):ILMX][ATID(UI64):7729403978647354233]]
----


. UUID を使用して、失われたオブジェクトのメタデータを検索します。
+
.. *ILM* > *オブジェクト メタデータ検索* を選択します。
.. UUIDを入力し、「検索」を選択します。
.. メタデータ内の場所を確認し、適切なアクションを実行します。
+
[cols="2a,4a"]
|===
| メタデータ | まとめ 


 a| 
オブジェクト <object_identifier> が見つかりません
 a| 
オブジェクトが見つからない場合は、メッセージ「ERROR":""」が返されます。

オブジェクトが見つからない場合は、「失われたオブジェクト」のカウントをリセットしてアラートをクリアできます。オブジェクトがない場合は、オブジェクトが意図的に削除されたことを示します。



 a| 
場所 > 0
 a| 
出力に場所がリストされている場合、「オブジェクトが失われました」アラートは誤検知である可能性があります。

オブジェクトが存在することを確認します。出力にリストされているノード ID とファイル パスを使用して、オブジェクト ファイルがリストされている場所にあることを確認します。

（手順link:searching-for-and-restoring-potentially-lost-objects.html["紛失した可能性のある物を探す"]ノード ID を使用して正しいストレージ ノードを見つける方法について説明します。

オブジェクトが存在する場合は、「失われたオブジェクト」の数をリセットしてアラートをクリアできます。



 a| 
場所 = 0
 a| 
出力に場所がリストされていない場合は、オブジェクトが欠落している可能性があります。試してみることができますlink:searching-for-and-restoring-potentially-lost-objects.html["オブジェクトを検索して復元する"]ご自身で確認いただくか、テクニカル サポートにお問い合わせください。

テクニカル サポートから、ストレージ回復手順が進行中かどうかを確認するよう依頼される場合があります。に関する情報を見るlink:../maintain/restoring-volume.html["グリッド マネージャーを使用してオブジェクト データを復元する"]そしてlink:../maintain/restoring-object-data-to-storage-volume.html["オブジェクトデータをストレージボリュームに復元する"]。

|===



