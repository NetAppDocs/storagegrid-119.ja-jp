---
permalink: vmware/storage-and-performance-requirements.html 
sidebar: sidebar 
keywords: storage requirements, performance requirements, netapp ontap, fabricpool 
summary: 仮想マシンによってホストされるStorageGRIDノードのストレージとパフォーマンスの要件を理解して、初期構成と将来のストレージ拡張をサポートするために十分なスペースを確保する必要があります。 
---
= ストレージとパフォーマンスの要件
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
仮想マシンによってホストされるStorageGRIDノードのストレージとパフォーマンスの要件を理解して、初期構成と将来のストレージ拡張をサポートするために十分なスペースを確保する必要があります。



== パフォーマンス要件

OS ボリュームと最初のストレージ ボリュームのパフォーマンスは、システム全体のパフォーマンスに大きな影響を与えます。これらが、レイテンシ、1 秒あたりの入出力操作 (IOPS)、およびスループットに関して適切なディスク パフォーマンスを提供することを確認します。

すべてのStorageGRIDノードでは、OS ドライブとすべてのストレージ ボリュームでライトバック キャッシュが有効になっている必要があります。キャッシュは保護されたメディアまたは永続的なメディア上に存在する必要があります。



== NetApp ONTAPストレージを使用する仮想マシンの要件

NetApp ONTAPシステムからストレージが割り当てられた仮想マシンとしてStorageGRIDノードを展開する場合は、ボリュームにFabricPool階層化ポリシーが有効になっていないことを確認します。たとえば、 StorageGRIDノードが VMware ホスト上で仮想マシンとして実行されている場合は、ノードのデータストアをバックアップするボリュームでFabricPool階層化ポリシーが有効になっていないことを確認します。StorageGRIDノードで使用するボリュームでFabricPoolによる階層化を無効にすることで、トラブルシューティングとストレージの処理がシンプルになります。


NOTE: FabricPoolを使用してStorageGRIDに関連するデータをStorageGRID自体に階層化することは絶対にしないでください。StorageGRIDにStorageGRIDデータを階層化すると、トラブルシューティングと運用がより複雑になります。



== 必要な仮想マシンの数

各StorageGRIDサイトには、少なくとも 3 つのストレージ ノードが必要です。



== ノードタイプ別のストレージ要件

実稼働環境では、 StorageGRIDノードの仮想マシンは、ノードの種類に応じて異なる要件を満たす必要があります。


NOTE: ディスク スナップショットを使用してグリッド ノードを復元することはできません。代わりに、link:../maintain/warnings-and-considerations-for-grid-node-recovery.html["グリッドノードの回復"]各タイプのノードの手順。

[cols="1a,2a"]
|===
| ノード タイプ | ストレージ 


 a| 
管理ノード
 a| 
OS用100 GB LUN

管理ノードテーブル用の 200 GB LUN

管理ノード監査ログ用の 200 GB LUN



 a| 
ストレージ ノード
 a| 
OS用100 GB LUN

このホスト上の各ストレージノードに3つのLUN

*注*: ストレージ ノードには 1 ～ 16 個のストレージ LUN を設定できます。少なくとも 3 個のストレージ LUN を設定することをお勧めします。

LUNあたりの最小サイズ: 4 TB

テスト済みの最大 LUN サイズ: 39 TB。



 a| 
ストレージノード（メタデータのみ）
 a| 
OS用100 GB LUN

1 LUN

LUNあたりの最小サイズ: 4 TB

テスト済みの最大 LUN サイズ: 39 TB。

*注*: メタデータのみのストレージ ノードに必要な rangedb は 1 つだけです。



 a| 
ゲートウェイ ノード
 a| 
OS用100 GB LUN

|===

NOTE: 設定されている監査レベル、S3 オブジェクトキー名などのユーザー入力のサイズ、保存する必要がある監査ログデータの量に応じて、各管理ノードの監査ログ LUN のサイズを増やす必要がある場合があります。通常、グリッドは S3 操作ごとに約 1 KB の監査データを生成します。つまり、200 GB の LUN では、1 日あたり 7,000 万回の操作、または 2 ～ 3 日間で 1 秒あたり 800 回の操作をサポートできることになります。



== ストレージノードのストレージ要件

ソフトウェア ベースのストレージ ノードには 1 ～ 16 個のストレージ ボリュームを設定できますが、3 個以上のストレージ ボリュームが推奨されます。各ストレージ ボリュームは 4 TB 以上である必要があります。


NOTE: アプライアンス ストレージ ノードには最大 48 個のストレージ ボリュームも設定できます。

図に示すように、 StorageGRID は各ストレージ ノードのストレージ ボリューム 0 にオブジェクト メタデータ用のスペースを予約します。ストレージ ボリューム 0 およびストレージ ノード内のその他のストレージ ボリュームの残りのスペースは、オブジェクト データ専用に使用されます。

image::../media/metadata_space_storage_node.png[メタデータスペースストレージノード]

冗長性を提供し、オブジェクト メタデータの損失を防ぐために、 StorageGRID はシステム内のすべてのオブジェクトのメタデータのコピーを各サイトに 3 つ保存します。オブジェクト メタデータの 3 つのコピーは、各サイトのすべてのストレージ ノードに均等に分散されます。

メタデータのみのストレージ ノードを含むグリッドをインストールする場合、グリッドにはオブジェクト ストレージ用の最小数のノードも含まれている必要があります。見るlink:../primer/what-storage-node-is.html#types-of-storage-nodes["ストレージノードの種類"]メタデータのみのストレージ ノードの詳細については、こちらをご覧ください。

* 単一サイト グリッドの場合、オブジェクトとメタデータ用に少なくとも 2 つのストレージ ノードが構成されます。
* マルチサイト グリッドの場合、オブジェクトとメタデータ用にサイトごとに少なくとも 1 つのストレージ ノードが構成されます。


新しいストレージ ノードのボリューム 0 にスペースを割り当てるときは、すべてのオブジェクト メタデータのそのノードの部分に十分なスペースがあることを確認する必要があります。

* 少なくとも、ボリューム 0 には 4 TB を割り当てる必要があります。
+

NOTE: ストレージ ノードに 1 つのストレージ ボリュームのみを使用し、そのボリュームに 4 TB 以下を割り当てた場合、ストレージ ノードは起動時にストレージ読み取り専用状態になり、オブジェクトのメタデータのみを保存する可能性があります。

+

NOTE: ボリューム 0 (非本番環境のみ) に 500 GB 未満を割り当てると、ストレージ ボリュームの容量の 10% がメタデータ用に予約されます。

* ソフトウェア ベースのメタデータのみのノード リソースは、既存のストレージ ノード リソースと一致する必要があります。例えば：
+
** 既存のStorageGRIDサイトが SG6000 または SG6100 アプライアンスを使用している場合、ソフトウェアベースのメタデータのみのノードは次の最小要件を満たしている必要があります。
+
*** 128GBのRAM
*** 8コアCPU
*** Cassandra データベース用の 8 TB SSD または同等のストレージ (rangedb/0)


** 既存のStorageGRIDサイトが 24 GB RAM、8 コア CPU、3 TB または 4 TB のメタデータ ストレージを備えた仮想ストレージ ノードを使用している場合、ソフトウェア ベースのメタデータ専用ノードでは同様のリソース (24 GB RAM、8 コア CPU、4 TB のメタデータ ストレージ (rangedb/0)) を使用する必要があります。
+
新しいStorageGRIDサイトを追加する場合、新しいサイトの合計メタデータ容量は少なくとも既存のStorageGRIDサイトと一致し、新しいサイトのリソースは既存のStorageGRIDサイトのストレージ ノードと一致する必要があります。



* 新しいシステム (StorageGRID 11.6 以降) をインストールしていて、各ストレージ ノードに 128 GB 以上の RAM がある場合は、ボリューム 0 に 8 TB 以上を割り当てます。ボリューム 0 に大きな値を使用すると、各ストレージ ノード上のメタデータに許可されるスペースを増やすことができます。
* サイトに異なるストレージ ノードを構成する場合は、可能であればボリューム 0 に同じ設定を使用します。サイトに異なるサイズのストレージ ノードが含まれている場合、最も小さいボリューム 0 を持つストレージ ノードによってそのサイトのメタデータ容量が決まります。


詳細については、link:../admin/managing-object-metadata-storage.html["オブジェクトメタデータストレージの管理"] 。
