---
permalink: monitor/using-charts-and-reports.html 
sidebar: sidebar 
keywords: how to use charts, how to use reports 
summary: グラフとレポートを使用して、 StorageGRIDシステムの状態を監視し、問題をトラブルシューティングできます。 
---
= チャートやグラフを使う
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
グラフとレポートを使用して、 StorageGRIDシステムの状態を監視し、問題をトラブルシューティングできます。


NOTE: グリッド マネージャーはリリースごとに更新されるため、このページのサンプルのスクリーンショットと一致しない場合があります。



== チャートの種類

チャートとグラフは、特定のStorageGRIDメトリックと属性の値を要約します。

グリッド マネージャー ダッシュボードには、グリッドと各サイトで使用可能なストレージをまとめたカードが含まれています。

image::../media/dashboard_data_and_metadata_space_usage_breakdown.png[ダッシュボードのデータとメタデータのスペース使用量の内訳]

テナント マネージャー ダッシュボードのストレージ使用量パネルには、次の情報が表示されます。

* テナントの最大のバケット（S3）またはコンテナ（Swift）のリスト
* 最大のバケツまたはコンテナの相対的なサイズを表す棒グラフ
* 使用されているスペースの合計量、およびクォータが設定されている場合は、残りのスペースの量と割合


image::../media/tenant_dashboard_with_buckets.png[テナントダッシュボード]

さらに、 StorageGRIDメトリックと属性が時間の経過とともにどのように変化するかを示すグラフは、[ノード] ページと [*サポート*] > [*ツール*] > [*グリッド トポロジ*] ページから入手できます。

グラフには次の 4 つの種類があります。

* *Grafana チャート*: ノード ページに表示される Grafana チャートは、時間の経過に伴う Prometheus メトリックの値をプロットするために使用されます。たとえば、ストレージ ノードの *NODES* > *Network* タブには、ネットワーク トラフィックの Grafana チャートが含まれています。
+
image::../media/nodes_page_network_tab.png[ノードページのネットワークタブ]

+

NOTE: Grafana チャートは、*サポート* > *ツール* > *メトリック* ページから利用できる事前構築されたダッシュボードにも含まれています。

* *折れ線グラフ*: ノードページおよび*サポート* > *ツール* > *グリッドトポロジ*ページから利用できます（グラフアイコンを選択）image:../media/icon_chart_new_for_11_5.png["アイコンチャート（新規）"]折れ線グラフは、データ値の後に続く単位値 (NTP 周波数オフセット (ppm 単位) など) を持つStorageGRID属性の値をプロットするために使用されます。値の変化は、時間の経過に伴って一定のデータ間隔 (ビン) でプロットされます。
+
image::../media/line_graph.gif[折れ線グラフ]

* *面グラフ*: ノードページおよび*サポート* > *ツール* > *グリッドトポロジ*ページから利用できます（グラフアイコンを選択）image:../media/icon_chart_new_for_11_5.png["アイコンチャート（新規）"]面グラフは、データ値の後に続く部分で、オブジェクト数やサービス負荷値などの体積属性量をプロットするために使用されます。面グラフは折れ線グラフに似ていますが、線の下に薄茶色の陰影が付きます。値の変化は、時間の経過に伴って一定のデータ間隔 (ビン) でプロットされます。
+
image::../media/area_graph.gif[面グラフ]

* 一部のグラフは異なる種類のチャートアイコンで表示されますimage:../media/icon_chart_new_for_11_5.png["チャートアイコン"]形式が異なります:
+
image::../media/charts_lost_object_detected.png[紛失物検出チャート]

* *状態グラフ*: *サポート* > *ツール* > *グリッドトポロジ* ページから利用可能です（チャートアイコンを選択）image:../media/icon_chart_new_for_11_5.png["アイコンチャート（新規）"]状態グラフは、データ値の後に続く部分など、オンライン、スタンバイ、オフラインなどのサービス状態などの個別の状態を表す属性値をプロットするために使用されます。状態グラフは折れ線グラフに似ていますが、遷移は不連続です。つまり、値がある状態値から別の状態値にジャンプします。
+
image::../media/state_graph.gif[状態グラフ]



.関連情報
* link:viewing-nodes-page.html["ノードページを表示する"]
* link:viewing-grid-topology-tree.html["グリッドトポロジツリーを表示する"]
* link:reviewing-support-metrics.html["サポート指標を確認する"]




== チャートの凡例

グラフを描くために使用される線と色には特定の意味があります。

[cols="1a,3a"]
|===
| 例 | 説明 


 a| 
image:../media/dark_green_chart_line.gif["濃い緑の線が表示されたスクリーンショット"]
 a| 
報告された属性値は濃い緑色の線でプロットされます。



 a| 
image:../media/light_green_chart_line.gif["データのビニングを示す陰影を示すスクリーンショット"]
 a| 
濃い緑色の線の周りの薄い緑色の陰影は、その時間範囲内の実際の値が変化しており、プロットを高速化するために「ビン化」されていることを示しています。濃い線は加重平均を表します。薄緑色の範囲は、ビン内の最大値と最小値を示します。明るい茶色の陰影は、体積データを示す面グラフで使用されます。



 a| 
image:../media/no_data_plotted_chart.gif["プロットライン上の空白領域を示すスクリーンショット"]
 a| 
空白領域 (データがプロットされていない) は、属性値が利用できなかったことを示します。背景は、属性を報告するサービスの状態に応じて、青、灰色、または灰色と青の混合になります。



 a| 
image:../media/light_blue_chart_shading.gif["不確定な値を示す水色の陰影が表示されたスクリーンショット"]
 a| 
薄い青色の網掛けは、その時点での属性値の一部またはすべてが不確定であったことを示します。つまり、サービスが不明な状態であったため、属性は値を報告していませんでした。



 a| 
image:../media/gray_chart_shading.gif["不明な値による灰色の陰影を示すスクリーンショット"]
 a| 
灰色の網掛けは、属性を報告するサービスが管理上ダウンしていたため、その時点で属性値の一部またはすべてが不明であったことを示します。



 a| 
image:../media/gray_blue_chart_shading.gif["不確定値と不明値が混在するスクリーンショット"]
 a| 
灰色と青色の混在した陰影は、その時点で属性値の一部が不確定であったこと (サービスが不明な状態であったため)、また、属性を報告するサービスが管理上ダウンしていたため他の属性値が不明であったことを示します。

|===


== チャートとグラフを表示する

ノード ページには、ストレージ容量やスループットなどの属性を監視するために定期的にアクセスする必要があるチャートとグラフが含まれています。場合によっては、特にテクニカル サポートと連携している場合は、[*サポート*] > [*ツール*] > [*グリッド トポロジ*] ページを使用して追加のグラフにアクセスできます。

.開始する前に
グリッドマネージャにサインインするには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。

.手順
. 「NODES」を選択します。次に、ノード、サイト、またはグリッド全体を選択します。
. 情報を表示するタブを選択します。
+
一部のタブには、時間の経過に伴う Prometheus メトリックの値をプロットするために使用される 1 つ以上の Grafana チャートが含まれています。たとえば、ノードの *NODES* > *Hardware* タブには、2 つの Grafana チャートが含まれます。

+
image::../media/nodes_page_hardware_tab_graphs.png[ノードページのハードウェアタブのグラフ]

. 必要に応じて、グラフの上にカーソルを置くと、特定の時点のより詳細な値が表示されます。
+
image::../media/nodes_page_memory_usage_details.png[ノードページのメモリ使用量の詳細]

. 必要に応じて、特定の属性またはメトリックのグラフを表示できることがよくあります。ノードページの表からチャートアイコンを選択しますimage:../media/icon_chart_new_for_11_5.png["チャートアイコン"]属性名の右側。
+

NOTE: すべての指標と属性でグラフを利用できるわけではありません。

+
*例1*: ストレージノードのオブジェクトタブからチャートアイコンを選択します。image:../media/icon_chart_new_for_11_5.png["チャートアイコン"]ストレージ ノードの成功したメタデータ ストア クエリの合計数を確認します。

+
image::../media/nodes_page_objects_successful_metadata_queries.png[成功したメタデータクエリ]

+
image::../media/nodes_page-objects_chart_successful_metadata_queries.png[成功したメタデータクエリをグラフ化する]

+
*例2*: ストレージノードのオブジェクトタブからチャートアイコンを選択できます。image:../media/icon_chart_new_for_11_5.png["チャートアイコン"]時間の経過に伴って検出された失われたオブジェクトの数の Grafana グラフを表示します。

+
image::../media/object_count_table.png[オブジェクトカウントテーブル]

+
image::../media/charts_lost_object_detected.png[紛失物検出チャート]

. ノード ページに表示されない属性のグラフを表示するには、*サポート* > *ツール* > *グリッド トポロジ* を選択します。
. *_grid node_* > *_component or service_* > *概要* > *メイン* を選択します。
+
image::../media/nms_chart.gif[周囲のテキストで説明されているスクリーンショット]

. チャートアイコンを選択image:../media/icon_chart_new_for_11_5.png["チャートアイコン"]属性の横にあります。
+
表示は自動的に*レポート* > *チャート*ページに変わります。グラフには、過去 1 日間の属性のデータが表示されます。





== チャートを生成する

チャートには、属性データ値のグラフィカルな表現が表示されます。データ センター サイト、グリッド ノード、コンポーネント、またはサービスについてレポートできます。

.開始する前に
* グリッドマネージャにサインインするには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。
* あなたが持っているlink:../admin/admin-group-permissions.html["特定のアクセス権限"]。


.手順
. *サポート* > *ツール* > *グリッド トポロジ* を選択します。
. *_grid node_* > *_component or service_* > *レポート* > *チャート*を選択します。
. *属性*ドロップダウンリストからレポートする属性を選択します。
. Y 軸を強制的にゼロから開始するには、[*垂直スケーリング*] チェックボックスをオフにします。
. 値を完全な精度で表示するには、[*生データ*] チェックボックスをオンにします。値を小数点以下最大 3 桁に丸めるには (たとえば、パーセンテージとして報告される属性の場合)、[*生データ*] チェックボックスをオフにします。
. *クイック クエリ* ドロップダウン リストからレポートする期間を選択します。
+
特定の時間範囲を選択するには、カスタム クエリ オプションを選択します。

+
しばらくするとチャートが表示されます。長い時間範囲の集計には数分かかります。

. カスタム クエリを選択した場合は、*開始日*と*終了日*を入力して、グラフの期間をカスタマイズします。
+
フォーマットを使用する `_YYYY/MM/DDHH:MM:SS_`現地時間で。形式を一致させるには先頭のゼロが必要です。たとえば、2017/4/6 7:30:00 は検証に失敗します。正しい形式は、2017/04/06 07:30:00 です。

. *更新*を選択します。
+
数秒後にチャートが生成されます。長い時間範囲の集計には数分かかります。クエリに設定された時間の長さに応じて、生のテキスト レポートまたは集計テキスト レポートのいずれかが表示されます。


