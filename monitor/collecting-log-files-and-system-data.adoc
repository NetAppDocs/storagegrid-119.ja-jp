---
permalink: monitor/collecting-log-files-and-system-data.html 
sidebar: sidebar 
keywords: how to collect system data, how to collect logs 
summary: 'Grid Manager を使用すると、 StorageGRIDシステムのログ ファイルとシステム データ (構成データを含む) を取得できます。' 
---
= ログファイルとシステムデータを収集する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Grid Manager を使用して、 StorageGRIDシステムのログ ファイルとシステム データ (構成データを含む) を取得できます。

.開始する前に
* プライマリ管理ノードのグリッドマネージャにサインインする必要があります。link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。
* あなたが持っているlink:../admin/admin-group-permissions.html["特定のアクセス権限"]。
* プロビジョニング パスフレーズが必要です。


.タスク概要
グリッドマネージャーを使用して収集できますlink:logs-files-reference.html["ログ ファイル"]選択した期間の任意のグリッド ノードからのシステム データおよび構成データを取得します。データは収集され、.tar.gz ファイルにアーカイブされ、その後ローカル コンピューターにダウンロードできます。

必要に応じて、監査ログの送信先を変更し、監査情報を外部の syslog サーバーに送信することもできます。外部 Syslog サーバーが構成されている場合、監査レコードのローカル ログは引き続き生成され、保存されます。見るlink:../monitor/configure-audit-messages.html["監査メッセージとログの保存先を構成する"] 。

.手順
. *サポート* > *ツール* > *ログ* を選択します。
+
image::../media/support_logs_select_nodes.png[ログ収集UIのスクリーンショット]

. ログ ファイルを収集するグリッド ノードを選択します。
+
必要に応じて、グリッド全体またはデータセンター サイト全体のログ ファイルを収集できます。

. ログ ファイルに含めるデータの時間範囲を設定するには、*開始時刻* と *終了時刻* を選択します。
+
非常に長い期間を選択した場合、または大規模なグリッド内のすべてのノードからログを収集した場合、ログ アーカイブが大きくなりすぎてノードに保存できなくなったり、ダウンロード用にプライマリ管理ノードに収集できなくなる可能性があります。この問題が発生した場合は、より小さいデータ セットを使用してログ収集を再開する必要があります。

. 収集するログの種類を選択します。
+
** *アプリケーション ログ*: テクニカル サポートがトラブルシューティングに最も頻繁に使用するアプリケーション固有のログ。収集されるログは、利用可能なアプリケーション ログのサブセットです。
** *監査ログ*: 通常のシステム操作中に生成された監査メッセージを含むログ。
** *ネットワーク トレース*: ネットワークのデバッグに使用されるログ。
** *Prometheus データベース*: すべてのノード上のサービスからの時系列メトリック。


. 必要に応じて、*Notes* テキスト ボックスに収集するログ ファイルに関するメモを入力します。
+
これらのメモを使用して、ログ ファイルを収集するように促された問題に関する技術サポート情報を提供できます。メモは、 `info.txt`ログ ファイル収集に関するその他の情報も表示されます。その `info.txt`ファイルはログ ファイル アーカイブ パッケージに保存されます。

. *プロビジョニング パスフレーズ* テキスト ボックスに、 StorageGRIDシステムのプロビジョニング パスフレーズを入力します。
. *ログを収集*を選択します。
+
新しいリクエストを送信すると、以前のログ ファイルのコレクションは削除されます。

+
「ログ」ページを使用して、各グリッド ノードのログ ファイル収集の進行状況を監視できます。

+
ログ サイズに関するエラー メッセージが表示される場合は、期間を短くするか、ノードの数を減らしてログを収集してみてください。

. ログファイルの収集が完了したら、[ダウンロード] を選択します。
+
_.tar.gz_ ファイルには、ログ収集が成功したすべてのグリッド ノードからのすべてのログ ファイルが含まれます。結合された _.tar.gz_ ファイル内には、グリッド ノードごとに 1 つのログ ファイル アーカイブがあります。



.終了後の操作
必要に応じて、後でログ ファイル アーカイブ パッケージを再度ダウンロードできます。

オプションで、[削除] を選択してログ ファイル アーカイブ パッケージを削除し、ディスク領域を解放することもできます。現在のログ ファイル アーカイブ パッケージは、次回ログ ファイルを収集するときに自動的に削除されます。
