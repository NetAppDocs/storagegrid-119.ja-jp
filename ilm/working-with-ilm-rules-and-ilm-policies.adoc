---
permalink: ilm/working-with-ilm-rules-and-ilm-policies.html 
sidebar: sidebar 
keywords: remove ilm rule, edit ilm rule, clone ilm rule, ilm queue 
summary: ストレージ要件が変化すると、異なるポリシーを導入したり、ポリシーに関連付けられた ILM ルールを変更したりする必要がある場合があります。  ILM メトリックを表示してシステムのパフォーマンスを判断できます。 
---
= ILMポリシーとILMルールを操作する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ストレージ要件が変化すると、追加のポリシーを導入したり、ポリシーに関連付けられた ILM ルールを変更したりする必要がある場合があります。  ILM メトリックを表示してシステムのパフォーマンスを判断できます。

.開始する前に
* グリッドマネージャにサインインするには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。
* あなたが持っているlink:../admin/admin-group-permissions.html["特定のアクセス権限"]。




== ILMポリシーを表示

アクティブおよび非アクティブな ILM ポリシーとポリシーのアクティブ化履歴を表示するには、次の手順を実行します。

. *ILM* > *ポリシー*を選択します。
. アクティブなポリシーと非アクティブなポリシーのリストを表示するには、[*ポリシー*] を選択します。表には、各ポリシーの名前、ポリシーが割り当てられているタグ、ポリシーがアクティブか非アクティブかがリストされます。
. ポリシーのアクティベーションの開始日と終了日のリストを表示するには、「*アクティベーション履歴*」を選択します。
. ポリシーの詳細を表示するには、ポリシー名を選択します。
+

NOTE: ステータスが「編集済み」または「削除済み」のポリシーの詳細を表示すると、指定された期間アクティブであったがその後編集または削除されたポリシーのバージョンを表示していることを説明するメッセージが表示されます。





== ILMポリシーを編集する

編集できるのは非アクティブなポリシーのみです。アクティブなポリシーを編集する場合は、ポリシーを非アクティブ化するか、クローンを作成してそのクローンを編集します。

ポリシーを編集するには:

. *ILM* > *ポリシー*を選択します。
. 編集するポリシーのチェックボックスをオンにして、[*編集*] を選択します。
. 以下の手順に従ってポリシーを編集します。link:creating-ilm-policy.html["ILMポリシーを作成する"] 。
. 再度アクティブ化する前にポリシーをシミュレートします。



CAUTION: ILM ポリシーが誤って構成されていると、回復不可能なデータ損失が発生する可能性があります。  ILM ポリシーをアクティブ化する前に、ILM ポリシーとその ILM ルールを慎重に確認し、ILM ポリシーをシミュレートします。  ILM ポリシーが意図したとおりに機能することを常に確認してください。



== ILMポリシーの複製

ILM ポリシーを複製するには:

. *ILM* > *ポリシー*を選択します。
. 複製するポリシーのチェックボックスをオンにして、[複製] を選択します。
. クローンしたポリシーから新しいポリシーを作成するには、以下の手順に従ってください。link:creating-ilm-policy.html["ILMポリシーを作成する"] 。



CAUTION: ILM ポリシーが誤って構成されていると、回復不可能なデータ損失が発生する可能性があります。  ILM ポリシーをアクティブ化する前に、ILM ポリシーとその ILM ルールを慎重に確認し、ILM ポリシーをシミュレートします。  ILM ポリシーが意図したとおりに機能することを常に確認してください。



== ILMポリシーを削除する

ILM ポリシーは非アクティブな場合にのみ削除できます。ポリシーを削除するには:

. *ILM* > *ポリシー*を選択します。
. 削除する非アクティブなポリシーのチェックボックスを選択します。
. *削除*を選択します。




== ILMルールの詳細を表示

ILM ルールの詳細（ルールの保持図や配置手順など）を表示するには、次の手順を実行します。

. *ILM* > *ルール*を選択します。
. 詳細を表示するルールの名前を選択します。例：
+
image::../media/ilm_rule_details_page.png[ILMルールの詳細ページ]



さらに、詳細ページを使用して、ルールを複製、編集、または削除することもできます。ルールがいずれかのポリシーで使用されている場合、そのルールを編集または削除することはできません。



== ILMルールの複製

既存のルールの一部の設定を使用する新しいルールを作成する場合は、既存のルールを複製できます。いずれかのポリシーで使用されているルールを編集する必要がある場合は、代わりにルールを複製し、その複製に変更を加えます。クローンに変更を加えた後、ポリシーから元のルールを削除し、必要に応じて変更したバージョンに置き換えることができます。


NOTE: StorageGRIDバージョン 10.2 以前を使用して作成された ILM ルールを複製することはできません。

.手順
. *ILM* > *ルール*を選択します。
. 複製するルールのチェックボックスをオンにして、[複製] を選択します。または、ルール名を選択し、ルールの詳細ページから「*複製*」を選択します。
. クローンしたルールを以下の手順に従って更新します。<<ILMルールを編集する,ILMルールの編集>>そしてlink:create-ilm-rule-enter-details.html#use-advanced-filters-in-ilm-rules["ILMルールで高度なフィルターを使用する"]。
+
ILM ルールを複製するときは、新しい名前を入力する必要があります。





== ILMルールを編集する

フィルターまたは配置指示を変更するには、ILM ルールを編集する必要がある場合があります。

ルールが ILM ポリシーで使用されている場合は、そのルールを編集することはできません。代わりに、<<clone-ilm-rule,ルールを複製する>>クローンコピーに必要な変更を加えます。


CAUTION: ILM ポリシーが誤って構成されていると、回復不可能なデータ損失が発生する可能性があります。  ILM ポリシーをアクティブ化する前に、ILM ポリシーとその ILM ルールを慎重に確認し、ILM ポリシーをシミュレートします。  ILM ポリシーが意図したとおりに機能することを常に確認してください。

.手順
. *ILM* > *ルール*を選択します。
. 編集するルールがどの ILM ポリシーでも使用されていないことを確認します。
. 編集するルールが使用されていない場合は、ルールのチェックボックスをオンにして、[アクション] > [編集] を選択します。または、ルールの名前を選択し、ルールの詳細ページで *編集* を選択します。
. ILM ルール編集ウィザードの手順を完了します。必要に応じて、以下の手順に従ってください。link:create-ilm-rule-enter-details.html["ILMルールの作成"]そしてlink:create-ilm-rule-enter-details.html#use-advanced-filters-in-ilm-rules["ILMルールで高度なフィルターを使用する"]。
+
ILM ルールを編集する場合、その名前を変更することはできません。





== ILMルールを削除する

現在の ILM ルールのリストを管理しやすい状態に保つには、使用しない可能性の高い ILM ルールを削除します。

.手順
現在アクティブなポリシーで使用されている ILM ルールを削除するには:

. ポリシーを複製します。
. ポリシー クローンから ILM ルールを削除します。
. 新しいポリシーを保存、シミュレート、アクティブ化して、オブジェクトが期待どおりに保護されていることを確認します。
. 非アクティブなポリシーで現在使用されている ILM ルールを削除する手順に進みます。


非アクティブなポリシーで現在使用されている ILM ルールを削除するには:

. 非アクティブなポリシーを選択します。
. ポリシーからILMルールを削除するか、<<remove-ilm-policy,ポリシーを削除する>> 。
. 現在使用されていない ILM ルールを削除する手順に進みます。


現在使用されていない ILM ルールを削除するには:

. *ILM* > *ルール*を選択します。
. 削除するルールがどのポリシーでも使用されていないことを確認します。
. 削除するルールが使用されていない場合は、ルールを選択し、[*アクション*] > [*削除*] を選択します。複数のルールを選択し、すべてを同時に削除できます。
. ILM ルールを削除することを確認するには、[*はい*] を選択します。




== ILMメトリックを表示

キュー内のオブジェクトの数や評価率など、ILM のメトリックを表示できます。これらのメトリックを監視して、システムのパフォーマンスを判断できます。キューまたは評価レートが大きい場合、システムが取り込みレートに対応できない、クライアント アプリケーションからの負荷が過剰である、または何らかの異常な状態が存在することを示している可能性があります。

.手順
. *ダッシュボード* > *ILM*を選択します。
+

NOTE: ダッシュボードはカスタマイズできるため、ILM タブが使用できない場合があります。

. ILM タブでメトリックを監視します。
+
疑問符を選択できますimage:../media/icon_nms_question.png["疑問符アイコン"]ILM タブの項目の説明を表示します。

+
image::../media/ilm_metrics_on_dashboard.png[グリッド マネージャー ダッシュボードの ILM メトリック]


