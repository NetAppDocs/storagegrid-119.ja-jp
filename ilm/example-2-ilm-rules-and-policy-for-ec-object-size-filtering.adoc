---
permalink: ilm/example-2-ilm-rules-and-policy-for-ec-object-size-filtering.html 
sidebar: sidebar 
keywords: object size for erasure coding, example ILM rule, information lifecycle rule examples, 1 MB 
summary: 次のサンプル ルールとポリシーを開始点として使用し、推奨される EC 要件を満たすようにオブジェクト サイズでフィルターする ILM ポリシーを定義できます。 
---
= 例2: ECオブジェクトサイズフィルタリングのILMルールとポリシー
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
次のサンプル ルールとポリシーを開始点として使用し、推奨される EC 要件を満たすようにオブジェクト サイズでフィルターする ILM ポリシーを定義できます。


CAUTION: 次の ILM ルールとポリシーは例にすぎません。 ILM ルールを構成する方法は多数あります。新しいポリシーを有効にする前に、ポリシーをシミュレートして、コンテンツの損失を防ぐためにポリシーが意図したとおりに機能することを確認します。



== 例2のILMルール1: 1 MBを超えるオブジェクトにはECを使用する

この例の ILM ルールは、1 MB を超えるオブジェクトを消去コードします。


NOTE: 消失訂正符号化は、1 MB を超えるオブジェクトに最適です。非常に小さな消去符号化フラグメントを管理するオーバーヘッドを回避するために、200 KB 未満のオブジェクトには消去符号化を使用しないでください。

[cols="2a,2a"]
|===
| ルールの定義 | 値の例 


 a| 
ルール名
 a| 
EC のみのオブジェクト > 1 MB



 a| 
基準時間
 a| 
取り込み時間



 a| 
オブジェクトサイズの詳細フィルター
 a| 
オブジェクトサイズが1 MBを超える



 a| 
配置
 a| 
3つのサイトを使用して2+1の消去符号化コピーを作成する

|===
image::../media/policy_2_rule_1_ec_objects_adv_filtering.png[例2のILMルール1: 1 MBを超えるすべてのオブジェクトにECを使用する]



== 例2のILMルール2: 複製された2つのコピー

この例の ILM ルールは、複製されたコピーを 2 つ作成し、オブジェクト サイズでフィルター処理しません。このルールはポリシーのデフォルト ルールです。最初のルールは 1 MB を超えるすべてのオブジェクトを除外するため、このルールは 1 MB 以下のオブジェクトにのみ適用されます。

[cols="1a,2a"]
|===
| ルールの定義 | 値の例 


 a| 
ルール名
 a| 
2つの複製コピー



 a| 
基準時間
 a| 
取り込み時間



 a| 
オブジェクトサイズの詳細フィルター
 a| 
なし



 a| 
配置
 a| 
0 日目から永久的に、複製されたコピーをサイト 1 に 1 つ、複製されたコピーをサイト 2 に 1 つ保存します。

|===


== ILMポリシー例2: 1 MBを超えるオブジェクトにはECを使用する

この例の ILM ポリシーには、次の 2 つの ILM ルールが含まれています。

* 最初のルールは、1 MB を超えるすべてのオブジェクトを消去コード化します。
* 2 番目の (デフォルト) ILM ルールは、複製されたコピーを 2 つ作成します。  1 MB を超えるオブジェクトはルール 1 によって除外されているため、ルール 2 は 1 MB 以下のオブジェクトにのみ適用されます。

