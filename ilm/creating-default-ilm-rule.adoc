---
permalink: ilm/creating-default-ilm-rule.html 
sidebar: sidebar 
keywords: create default ilm rule 
summary: ILM ポリシーを作成する前に、別のルールに一致しないオブジェクトをポリシーに配置するためのデフォルト ルールを作成する必要があります。デフォルトのルールではフィルターを使用できません。すべてのテナント、すべてのバケット、すべてのオブジェクト バージョンに適用する必要があります。 
---
= デフォルトのILMルールを作成する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ILM ポリシーを作成する前に、別のルールに一致しないオブジェクトをポリシーに配置するためのデフォルト ルールを作成する必要があります。デフォルトのルールではフィルターを使用できません。すべてのテナント、すべてのバケット、すべてのオブジェクト バージョンに適用する必要があります。

.開始する前に
* グリッドマネージャにサインインするには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。
* あなたが持っているlink:../admin/admin-group-permissions.html["特定のアクセス権限"]。


.タスク概要
デフォルト ルールは ILM ポリシーで評価される最後のルールなので、フィルターは使用できません。デフォルト ルールの配置手順は、ポリシー内の別のルールに一致しないすべてのオブジェクトに適用されます。

この例のポリシーでは、最初のルールは test-tenant-1 に属するオブジェクトにのみ適用されます。最後にあるデフォルトのルールは、他のすべてのテナント アカウントに属するオブジェクトに適用されます。

image::../media/ilm_policies_page_default_rule.png[ILMポリシーページのデフォルトルール]

デフォルト ルールを作成するときは、次の要件に留意してください。

* デフォルト ルールは、ポリシーに追加すると、最後のルールとして自動的に配置されます。
* デフォルトのルールでは、基本フィルターや高度なフィルターは使用できません。
* デフォルトのルールはすべてのオブジェクト バージョンに適用する必要があります。
* デフォルトのルールでは複製されたコピーを作成する必要があります。
+

NOTE: 消去コード化されたコピーを作成するルールをポリシーのデフォルト ルールとして使用しないでください。消失訂正コーディング ルールでは、小さなオブジェクトが消失訂正コーディングされるのを防ぐために、高度なフィルターを使用する必要があります。

* 一般に、デフォルトのルールではオブジェクトを永久に保持する必要があります。
* グローバル S3 オブジェクトロック設定を使用している場合 (または有効にする予定の場合)、デフォルトのルールが準拠している必要があります。


.手順
. *ILM* > *ルール*を選択します。
. *作成*を選択します。
+
ILM ルールの作成ウィザードのステップ 1 (詳細の入力) が表示されます。

. *ルール名* フィールドにルールの一意の名前を入力します。
. 必要に応じて、「*説明*」フィールドにルールの簡単な説明を入力します。
. *テナント アカウント* フィールドは空白のままにします。
+
デフォルトのルールはすべてのテナント アカウントに適用する必要があります。

. バケット名のドロップダウンの選択は、*すべてのバケットに適用*のままにします。
+
デフォルトのルールはすべての S3 バケットに適用する必要があります。

. 「このルールを古いオブジェクト バージョンにのみ適用しますか (バージョン管理が有効になっている S3 バケット内)?」という質問に対しては、デフォルトの回答 *いいえ* のままにします。
. 高度なフィルターを追加しないでください。
+
デフォルトのルールではフィルターを指定できません。

. *次へ*を選択します。
+
ステップ 2 (配置の定義) が表示されます。

. 参照時間については、任意のオプションを選択します。
+
「このルールを古いオブジェクト バージョンにのみ適用しますか?」という質問に対して、デフォルトの回答 *いいえ* を維持した場合、現在以外の時刻はプルダウン リストに含まれません。デフォルトのルールはすべてのオブジェクト バージョンに適用する必要があります。

. デフォルト ルールの配置手順を指定します。
+
** デフォルトのルールでは、オブジェクトを永久に保持する必要があります。デフォルトのルールがオブジェクトを永続的に保持しない場合は、新しいポリシーをアクティブ化すると警告が表示されます。これが期待通りの動作であることを確認する必要があります。
** デフォルトのルールでは複製されたコピーを作成する必要があります。
+

NOTE: 消去コード化されたコピーを作成するルールをポリシーのデフォルト ルールとして使用しないでください。消去コーディング ルールには、小さいオブジェクトが消去コーディングされないように、*オブジェクト サイズ (MB) が 200 KB を超える* 高度なフィルターを含める必要があります。

** グローバル S3 オブジェクトロック設定を使用している場合 (または有効にする予定の場合)、デフォルトのルールが準拠している必要があります。
+
*** 少なくとも 2 つの複製されたオブジェクトのコピー、または 1 つの消去コード化されたコピーを作成する必要があります。
*** これらのコピーは、配置指示の各行の有効期間中、ストレージ ノード上に存在している必要があります。
*** オブジェクトのコピーはクラウド ストレージ プールに保存できません。
*** 配置指示の少なくとも 1 行は、取り込み時間を基準時間として使用して、0 日目から始まる必要があります。
*** 配置指示の少なくとも 1 行は「forever」にする必要があります。




. 保持図を参照して配置手順を確認してください。
. *続行*を選択します。
+
ステップ 3 (取り込み動作の選択) が表示されます。

. 使用する取り込みオプションを選択し、「作成」を選択します。

