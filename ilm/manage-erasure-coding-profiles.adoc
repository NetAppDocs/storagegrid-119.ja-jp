---
permalink: ilm/manage-erasure-coding-profiles.html 
sidebar: sidebar 
keywords: rename erasure-coding profile, ec profile 
summary: 消去コーディング プロファイルの詳細を表示し、必要に応じてプロファイルの名前を変更できます。イレージャーコーディング プロファイルが現在どの ILM ルールでも使用されていない場合は、非アクティブ化できます。 
---
= 消去コーディングプロファイルを管理する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
消去コーディング プロファイルの詳細を表示し、必要に応じてプロファイルの名前を変更できます。イレージャーコーディング プロファイルが現在どの ILM ルールでも使用されていない場合は、非アクティブ化できます。

.開始する前に
* グリッドマネージャにサインインするには、link:../admin/web-browser-requirements.html["サポートされているウェブブラウザ"] 。
* あなたはlink:../admin/admin-group-permissions.html["必要なアクセス権限"]。




== 消去コーディングプロファイルの詳細を表示する

消去コーディング プロファイルの詳細を表示して、そのステータス、使用されている消去コーディング スキーム、およびその他の情報を確認できます。

.手順
. *CONFIGURATION* > *System* > *Erasure Coding* を選択します。
. プロファイルを選択します。プロフィールの詳細ページが表示されます。
. 必要に応じて、プロファイルを使用する ILM ルールと、それらのルールを使用する ILM ポリシーのリストについては、ILM ルール タブを参照してください。
. オプションで、プロファイルのストレージ プール内の各ストレージ ノードの詳細 (ストレージ ノードが配置されているサイトやストレージの使用状況など) を確認するには、[ストレージ ノード] タブを表示します。




== 消去コーディングプロファイルの名前を変更する

プロファイルの機能をより明確にするために、消去コーディング プロファイルの名前を変更する必要がある場合があります。

.手順
. *CONFIGURATION* > *System* > *Erasure Coding* を選択します。
. 名前を変更するプロファイルを選択します。
. *名前の変更*を選択します。
. 消去コーディング プロファイルの一意の名前を入力します。
+
イレージャーコーディング プロファイル名は、ILM ルールの配置指示内のストレージ プール名に追加されます。

+

NOTE: 消去コーディング プロファイル名は一意である必要があります。既存のプロファイルの名前を使用すると、そのプロファイルが非アクティブ化されている場合でも検証エラーが発生します。

. *保存*を選択します。




== 消去コーディングプロファイルを非アクティブ化する

消去コーディング プロファイルを使用する予定がなくなり、現在どの ILM ルールでも使用されていない場合は、そのプロファイルを非アクティブ化できます。


TIP: 消去コード化されたデータの修復操作または廃止手順が実行中ではないことを確認します。これらのいずれかの操作の進行中に、消去コーディング プロファイルを非アクティブ化しようとすると、エラー メッセージが返されます。

.タスク概要
StorageGRID、次のいずれかに該当する場合、消去コーディング プロファイルを非アクティブ化できません。

* 消去コーディング プロファイルは現在 ILM ルールで使用されています。
* 消去コーディング プロファイルはどの ILM ルールでも使用されなくなりましたが、プロファイルのオブジェクト データとパリティ フラグメントはまだ存在します。


.手順
. *CONFIGURATION* > *System* > *Erasure Coding* を選択します。
. [アクティブ] タブの [ステータス] 列で、非アクティブ化する消去コーディング プロファイルがどの ILM ルールでも使用されていないことを確認します。
+
消去コーディング プロファイルが ILM ルールで使用されている場合は、それを非アクティブ化することはできません。この例では、2+1 データセンター 1 プロファイルが少なくとも 1 つの ILM ルールで使用されています。

+
image::../media/ec_profile_used_in_ilm_rule.png[ILMルールで使用されるECプロファイル]

. プロファイルが ILM ルールで使用される場合は、次の手順に従います。
+
.. *ILM* > *ルール*を選択します。
.. 各ルールを選択し、保持図を確認して、そのルールが非アクティブ化する消去コーディング プロファイルを使用しているかどうかを確認します。
.. ILM ルールが非アクティブ化する消去コーディング プロファイルを使用している場合は、そのルールがいずれかの ILM ポリシーで使用されているかどうかを確認します。
.. 消去コーディング プロファイルが使用される場所に基づいて、表内の追加手順を完了します。
+
[cols="2a,4a,1a"]
|===
| プロファイルはどこで使用されていますか? | プロファイルを非アクティブ化する前に実行する追加の手順 | 以下の追加手順を参照してください 


 a| 
どのILMルールでも使用されない
 a| 
追加の手順は必要ありません。この手順を続行します。
 a| 
_なし_



 a| 
どのILMポリシーでも使用されたことのないILMルール
 a| 
... 影響を受けるすべての ILM ルールを編集または削除します。ルールを編集する場合は、消去コーディング プロファイルを使用するすべての配置を削除します。
... この手順を続行します。

 a| 
link:working-with-ilm-rules-and-ilm-policies.html["ILMルールとILMポリシーを操作する"]



 a| 
現在アクティブなILMポリシーにあるILMルール
 a| 
... ポリシーを複製します。
... 消去コーディング プロファイルを使用する ILM ルールを削除します。
... オブジェクトが保護されるように、1 つ以上の新しい ILM ルールを追加します。
... 新しいポリシーを保存、シミュレート、アクティブ化します。
... 新しいポリシーが適用され、追加した新しいルールに基づいて既存のオブジェクトが新しい場所に移動されるまで待ちます。
+
*注意:* オブジェクトの数とStorageGRIDシステムのサイズによっては、新しい ILM ルールに基づいて ILM 操作でオブジェクトを新しい場所に移動するまでに数週間から数か月かかる場合があります。

+
消去コーディング プロファイルがデータに関連付けられている間は、安全に非アクティブ化を試みることができますが、非アクティブ化操作は失敗します。プロファイルを非アクティブ化する準備がまだできていない場合は、エラー メッセージが表示されます。

... ポリシーから削除したルールを編集または削除します。ルールを編集する場合は、消去コーディング プロファイルを使用するすべての配置を削除します。
... この手順を続行します。

 a| 
link:creating-ilm-policy.html["ILMポリシーを作成する"]

link:working-with-ilm-rules-and-ilm-policies.html["ILMルールとILMポリシーを操作する"]



 a| 
現在ILMポリシーに含まれているILMルール
 a| 
... ポリシーを編集します。
... 消去コーディング プロファイルを使用する ILM ルールを削除します。
... すべてのオブジェクトが保護されるように、1 つ以上の新しい ILM ルールを追加します。
... ポリシーを保存します。
... ポリシーから削除したルールを編集または削除します。ルールを編集する場合は、消去コーディング プロファイルを使用するすべての配置を削除します。
... この手順を続行します。

 a| 
link:creating-ilm-policy.html["ILMポリシーを作成する"]

link:working-with-ilm-rules-and-ilm-policies.html["ILMルールとILMポリシーを操作する"]

|===
.. Erasure-Coding プロファイル ページを更新して、プロファイルが ILM ルールで使用されていないことを確認します。


. プロファイルが ILM ルールで使用されていない場合は、ラジオ ボタンを選択し、[非アクティブ化] を選択します。  [消去コーディング プロファイルの非アクティブ化] ダイアログ ボックスが表示されます。
+

TIP: 各プロファイルがどのルールでも使用されていない限り、複数のプロファイルを同時に非アクティブ化するように選択できます。

. プロファイルを非アクティブ化する場合は、[非アクティブ化] を選択します。


.結果
* StorageGRID が消去コーディング プロファイルを非アクティブ化できる場合、そのステータスは「非アクティブ化」になります。どの ILM ルールに対してもこのプロファイルを選択できなくなりました。非アクティブ化されたプロフィールを再アクティブ化することはできません。
* StorageGRID がプロファイルを非アクティブ化できない場合は、エラー メッセージが表示されます。たとえば、オブジェクト データがまだこのプロファイルに関連付けられている場合は、エラー メッセージが表示されます。非アクティブ化のプロセスを再度試す前に、数週間待つ必要がある場合があります。

